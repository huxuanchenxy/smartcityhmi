{
  "single" : "var config = com.config.control;var interval = parseInt(com.apis.source.autoUpdate);var lastDate = sessionStorage.getItem(com.id + '_lastDate');var startDate;if (lastDate) {tempStartDate = new Date(parseInt(lastDate) + interval * 1000);startDate = dayjs(tempStartDate).format('YYYY-MM-DD HH:mm:ss');}else {var temp = new Date().getTime() - config.startCount * interval * 1000;var temp1 = new Date(temp).setSeconds(0);startDate = dayjs(temp1).format('YYYY-MM-DD HH:mm:ss');}var endTimestamp = new Date();var endDate = dayjs(endTimestamp).format('YYYY-MM-DD HH:mm:ss');sessionStorage.setItem(com.id + '_lastDate', (new Date(endTimestamp)).getTime());var res = {\"start\": startDate,\"end\": endDate,\"interval\": interval, \"nodes\": [{ \"deviceCode\": config.deviceCode,\"nodeCode\": config.nodeCode }]}\nreturn res;",
  "multi" : "var config = com.config.control;var interval = parseInt(com.apis.source.autoUpdate);var lastDate = sessionStorage.getItem(com.id + '_lastDate');var now = new Date();var startDate;var endDate;if (lastDate) {var tempStartDate = new Date(parseInt(lastDate) + interval * 1000);startDate = dayjs(tempStartDate).format('YYYY-MM-DD HH:mm:ss');var tempEndDate = new Date(parseInt(lastDate) + interval * 1000 * 2);endDate = dayjs(tempEndDate).format('YYYY-MM-DD HH:mm:ss');}else {var temp = now.getTime() - config.startCount * interval * 1000;var temp1 = new Date(temp);startDate = dayjs(temp1).format('YYYY-MM-DD HH:mm:ss');endDate = dayjs(now).format('YYYY-MM-DD HH:mm:ss');}sessionStorage.setItem(com.id + '_lastDate', now.getTime());var nodes = [];for (var i = 0; i < com.config.series.length; i++) {if (com.config.series[i].ic.nodeCode) {nodes.push(com.config.series[i].ic)}}var res = {\"start\": startDate,\"end\": endDate,\"interval\": interval, \"nodes\": nodes}\nreturn res;"
}